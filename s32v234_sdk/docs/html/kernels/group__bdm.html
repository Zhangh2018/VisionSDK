<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>ACF/APEX Kernel SDK: Binary descriptor matching</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ACF/APEX Kernel SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">Binary descriptor matching<div class="ingroups"><a class="el" href="group__comparison.html">Comparison</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Binary descriptor matching. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga178a6dc7386297123764bf72f1da8ecd"><td class="memItemLeft" align="right" valign="top">KERNEL_INFO&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bdm.html#ga178a6dc7386297123764bf72f1da8ecd">apu_match_descriptors</a> (&quot;   apu_match_descriptors  &quot;, 5, __port(__index(0), __identifier(&quot;INPUT_0&quot;), __attributes(ACF_ATTR_VEC_IN), __spatial_dep(0, 0, 0, 0), __e0_data_type(d08u), __e0_size(1, 1), __ek_size(1, 1)), __port(__index(1), __identifier(&quot;INPUT_1&quot;), __attributes(ACF_ATTR_VEC_IN), __spatial_dep(0, 0, 0, 0), __e0_data_type(d08u), __e0_size(1, 1), __ek_size(1, 1)), __port(__index(2), __identifier(&quot;INPUT_CONFIG&quot;), __attributes(ACF_ATTR_SCL_IN_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d16u), __e0_size(1, 1), __ek_size(4, 1)), __port(__index(3), __identifier(&quot;OUTPUT_0&quot;), __attributes(ACF_ATTR_SCL_OUT_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d16s), __e0_size(1, 1), __ek_size(512, 1)), __port(__index(4), __identifier(&quot;OUTPUT_1&quot;), __attributes(ACF_ATTR_SCL_OUT_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d16s), __e0_size(1, 1), __ek_size(512, 1)))</td></tr>
<tr class="separator:ga178a6dc7386297123764bf72f1da8ecd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga48363e756a3822aa442d80c46e2b3bb8"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__bdm.html#ga48363e756a3822aa442d80c46e2b3bb8">Match</a> (const vec08u *apcDescriptors0, unsigned int aDescriptor0Count, const vec08u *apcDescriptors1, unsigned int aDescriptor1Count, int16s *apMatches0, int16s *apMatches1, int08u aThreshold, int08u aRangeCheck)</td></tr>
<tr class="memdesc:ga48363e756a3822aa442d80c46e2b3bb8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Matches binary descriptors.  <a href="#ga48363e756a3822aa442d80c46e2b3bb8">More...</a><br /></td></tr>
<tr class="separator:ga48363e756a3822aa442d80c46e2b3bb8"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga178a6dc7386297123764bf72f1da8ecd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">KERNEL_INFO apu_match_descriptors </td>
          <td>(</td>
          <td class="paramtype">&quot; apu_match_descriptors &quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">5&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__port(__index(0), __identifier(&quot;INPUT_0&quot;), __attributes(ACF_ATTR_VEC_IN), __spatial_dep(0, 0, 0, 0), __e0_data_type(d08u), __e0_size(1, 1), __ek_size(1, 1))&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__port(__index(1), __identifier(&quot;INPUT_1&quot;), __attributes(ACF_ATTR_VEC_IN), __spatial_dep(0, 0, 0, 0), __e0_data_type(d08u), __e0_size(1, 1), __ek_size(1, 1))&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__port(__index(2), __identifier(&quot;INPUT_CONFIG&quot;), __attributes(ACF_ATTR_SCL_IN_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d16u), __e0_size(1, 1), __ek_size(4, 1))&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__port(__index(3), __identifier(&quot;OUTPUT_0&quot;), __attributes(ACF_ATTR_SCL_OUT_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d16s), __e0_size(1, 1), __ek_size(512, 1))&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__port(__index(4), __identifier(&quot;OUTPUT_1&quot;), __attributes(ACF_ATTR_SCL_OUT_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d16s), __e0_size(1, 1), __ek_size(512, 1))&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Descriptor matching kernel metadata.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">MATCH_DESCRIPTORS_KN</td><td>Define for Kernel name </td></tr>
    <tr><td class="paramname">5</td><td>Number of ports </td></tr>
    <tr><td class="paramname">Port MATCH_DESCR_KN_IN0</td><td>Define for name of first input descriptors array (unsigned 8bit) </td></tr>
    <tr><td class="paramname">Port MATCH_DESCR_KN_IN1</td><td>Define for name of second input descriptors array (unsigned 8bit) </td></tr>
    <tr><td class="paramname">Port MATCH_DESCR_KN_CFG</td><td>Define for name of configuration data: number of descriptors in IN0 (16-bit) number of descriptors in IN1 (16-bit) matching threshold (max Hamming distance) (8-bit) range check (min Hamming distance between the closest and the second closest descriptors found) (8-bit) </td></tr>
    <tr><td class="paramname">Port MATCH_DESCR_KN_OUT0</td><td>Define for name of first elements of match pairs array (unsigned 16bit) </td></tr>
    <tr><td class="paramname">Port MATCH_DESCR_KN_OUT1</td><td>Define for name of second elements of match pairs array (unsigned 16bit) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="ga48363e756a3822aa442d80c46e2b3bb8"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void Match </td>
          <td>(</td>
          <td class="paramtype">const vec08u *&#160;</td>
          <td class="paramname"><em>apcDescriptors0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>aDescriptor0Count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const vec08u *&#160;</td>
          <td class="paramname"><em>apcDescriptors1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>aDescriptor1Count</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16s *&#160;</td>
          <td class="paramname"><em>apMatches0</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16s *&#160;</td>
          <td class="paramname"><em>apMatches1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int08u&#160;</td>
          <td class="paramname"><em>aThreshold</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int08u&#160;</td>
          <td class="paramname"><em>aRangeCheck</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Matches binary descriptors. </p>
<p>Matches binary descriptors from group A to binary descriptors from group B. Matches with hamming distance greater than provided threshold are rejected. Ambiguous matches (i.e. the next best match's hamming distance is lesser than the provided check range) are rejected.</p>
<p>distance(desc0, desc1) = popcount(desc0 xor desc1)</p>
<p>After a descriptor desc0 (from group A) has been matched with descriptor desc1 (group B), both desc0 and desc1 are removed from further processing.<br />
dist(desc0, desc1) has to be &lt;= threshold, otherwise the descriptors won't be matched.<br />
If dist(desc0, desc1A) is the smallest distance for desc0 and dist(desc0, desc1B) is the second smallest distance for desc0, the difference of these distances has to be &gt; range check, otherwise desc0 won't be matched to anything </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">apcDescriptors0</td><td>- [Input] First input descriptor array </td></tr>
    <tr><td class="paramname">aDescriptor0Count</td><td>- [Input] First input descriptor array size </td></tr>
    <tr><td class="paramname">apcDescriptors1</td><td>- [Input] Second input descriptor array </td></tr>
    <tr><td class="paramname">aDescriptor1Count</td><td>- [Input] Second input descriptor array size </td></tr>
    <tr><td class="paramname">apMatches0</td><td>- [Output] First elements of match pairs </td></tr>
    <tr><td class="paramname">apMatches1</td><td>- [Output] Second elements of match pairs </td></tr>
    <tr><td class="paramname">aThreshold</td><td>- [Input] Matching threshold (max Hamming distance) </td></tr>
    <tr><td class="paramname">aRangeCheck</td><td>- [Input] Range check (min Hamming distance between the closest and the second closest descriptors found) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Feb 1 2016 10:05:08 for ACF/APEX Kernel SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
