<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>ACF/APEX Kernel SDK: Haar cascade object detection</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">ACF/APEX Kernel SDK
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div class="header">
  <div class="summary">
<a href="#nested-classes">Classes</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle">
<div class="title">Haar cascade object detection<div class="ingroups"><a class="el" href="group__object__detection.html">Object detection</a></div></div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p>Haar cascade object detection. </p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Classes</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAPEX__HaarCascadeFeature.html">APEX_HaarCascadeFeature</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structAPEX__HaarCascadeStage.html">APEX_HaarCascadeStage</a></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:gaab16a1133598af7c45c0433757da8e4e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaab16a1133598af7c45c0433757da8e4e"></a>
typedef vec16u&#160;</td><td class="memItemRight" valign="bottom"><b>FEATURE_FIXED_POINT_TYPE</b></td></tr>
<tr class="separator:gaab16a1133598af7c45c0433757da8e4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaacd1be63c3addbf76a2ff442a0a2ff04"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaacd1be63c3addbf76a2ff442a0a2ff04"></a>
typedef vec16u&#160;</td><td class="memItemRight" valign="bottom"><b>STAGE_FIXED_POINT_TYPE</b></td></tr>
<tr class="separator:gaacd1be63c3addbf76a2ff442a0a2ff04"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ga332233c01477f377d9c75a611c110b5a"><td class="memItemLeft" align="right" valign="top">KERNEL_INFO&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__haar.html#ga332233c01477f377d9c75a611c110b5a">apu_haar_cascade</a> (&quot;   apu_haar_cascade  &quot;, 11, __port(__index(0), __identifier(&quot;INPUT_INTEGRAL_IMAGE&quot;), __attributes(ACF_ATTR_VEC_IN), __spatial_dep(1, 0, 1, 0), __e0_data_type(d32u), __e0_size(1, 1), __ek_size(1, 1)), __port(__index(1), __identifier(&quot;INPUT_INTEGRAL_IMAGE_SQUARED&quot;), __attributes(ACF_ATTR_VEC_IN), __spatial_dep(1, 0, 1, 0), __e0_data_type(d32u), __e0_size(1, 1), __ek_size(1, 1)), __port(__index(2), __identifier(&quot;LINE_INDEX&quot;), __attributes(ACF_ATTR_SCL_OUT_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d16u), __e0_size(1, 1), __ek_size(1, 1)), __port(__index(3), __identifier(&quot;WINDOW_BUFFER&quot;), __attributes(ACF_ATTR_VEC_OUT_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d32u), __e0_size(1, 1), __ek_size(6+1, 32)), __port(__index(4), __identifier(&quot;WINDOW_BUFFER_SQUARED&quot;), __attributes(ACF_ATTR_VEC_OUT_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d32u), __e0_size(1, 1), __ek_size(6+1, 32)), __port(__index(5), __identifier(&quot;INPUT_CASCADE_SIZES&quot;), __attributes(ACF_ATTR_SCL_IN_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d16u), __e0_size(1, 1), __ek_size(2, 1)), __port(__index(6), __identifier(&quot;INPUT_CASCADE_FEATURES&quot;), __attributes(ACF_ATTR_SCL_IN_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d08u), __e0_size(1, 1), __ek_size(19800, 1)), __port(__index(7), __identifier(&quot;INPUT_CASCADE_STAGES&quot;), __attributes(ACF_ATTR_SCL_IN_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d08u), __e0_size(1, 1), __ek_size(70, 1)), __port(__index(8), __identifier(&quot;INPUT_PIXEL_SHIFTS&quot;), __attributes(ACF_ATTR_SCL_IN_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d08u), __e0_size(1, 1), __ek_size(32, 1)), __port(__index(9), __identifier(&quot;INPUT_PIXEL_OFFSETS&quot;), __attributes(ACF_ATTR_SCL_IN_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d08u), __e0_size(1, 1), __ek_size(32, 1)), __port(__index(10), __identifier(&quot;OUTPUT&quot;), __attributes(ACF_ATTR_VEC_OUT), __spatial_dep(0, 0, 0, 0), __e0_data_type(d08u), __e0_size(1, 1), __ek_size(1, 1)))</td></tr>
<tr class="separator:ga332233c01477f377d9c75a611c110b5a"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gae1636f077c1bc681664f933816d674f1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__haar.html#gae1636f077c1bc681664f933816d674f1">haar_cascade</a> (vec08u *apOut, vec32u *apInII, vec32u *apInII2, int aOutStride, int aInStride, int aTileWidth, int aTileHeight, int16u aLineIndex, vec32u *apWindowBuffer, vec32u *apWindowBuffer2, const <a class="el" href="structAPEX__HaarCascadeFeature.html">APEX_HaarCascadeFeature</a> *apcFeatures, int aStageCount, const <a class="el" href="structAPEX__HaarCascadeStage.html">APEX_HaarCascadeStage</a> *apcStages, const int08u *apcXshifts, const int08u *apcXoffsets)</td></tr>
<tr class="memdesc:gae1636f077c1bc681664f933816d674f1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Haar object detection.  <a href="#gae1636f077c1bc681664f933816d674f1">More...</a><br /></td></tr>
<tr class="separator:gae1636f077c1bc681664f933816d674f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:gaf97a336de015e3758ddfa87b5aeaa5f2"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaf97a336de015e3758ddfa87b5aeaa5f2"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><b>FEATURE_FRACTIONAL_BITS</b> = 13</td></tr>
<tr class="separator:gaf97a336de015e3758ddfa87b5aeaa5f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gac1b65beb2a7cbe36382c095c6815933b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gac1b65beb2a7cbe36382c095c6815933b"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><b>FEATURE_FIXED_POINT_MULTIPLIER</b> = (1 &lt;&lt; FEATURE_FRACTIONAL_BITS)</td></tr>
<tr class="separator:gac1b65beb2a7cbe36382c095c6815933b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga987d6a9c3eb488cd47e3c7b37c50ea5d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga987d6a9c3eb488cd47e3c7b37c50ea5d"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><b>STAGE_FRACTIONAL_BITS</b> = 10</td></tr>
<tr class="separator:ga987d6a9c3eb488cd47e3c7b37c50ea5d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga0c6b4f6353e7ea25196986021daa9554"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga0c6b4f6353e7ea25196986021daa9554"></a>
const int&#160;</td><td class="memItemRight" valign="bottom"><b>STAGE_FIXED_POINT_MULTIPLIER</b> = (1 &lt;&lt; STAGE_FRACTIONAL_BITS)</td></tr>
<tr class="separator:ga0c6b4f6353e7ea25196986021daa9554"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaddde682a186422240dcfe21dc4d93459"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="gaddde682a186422240dcfe21dc4d93459"></a>
const int32u&#160;</td><td class="memItemRight" valign="bottom"><b>featureFixedCoefficientSqrt</b> = 91</td></tr>
<tr class="separator:gaddde682a186422240dcfe21dc4d93459"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga17f4286137362529e109c624579435f1"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ga17f4286137362529e109c624579435f1"></a>
const int32s&#160;</td><td class="memItemRight" valign="bottom"><b>invWindowAreaScalar</b> = 25</td></tr>
<tr class="separator:ga17f4286137362529e109c624579435f1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a class="anchor" id="ga332233c01477f377d9c75a611c110b5a"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">KERNEL_INFO apu_haar_cascade </td>
          <td>(</td>
          <td class="paramtype">&quot; apu_haar_cascade &quot;&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">11&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__port(__index(0), __identifier(&quot;INPUT_INTEGRAL_IMAGE&quot;), __attributes(ACF_ATTR_VEC_IN), __spatial_dep(1, 0, 1, 0), __e0_data_type(d32u), __e0_size(1, 1), __ek_size(1, 1))&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__port(__index(1), __identifier(&quot;INPUT_INTEGRAL_IMAGE_SQUARED&quot;), __attributes(ACF_ATTR_VEC_IN), __spatial_dep(1, 0, 1, 0), __e0_data_type(d32u), __e0_size(1, 1), __ek_size(1, 1))&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__port(__index(2), __identifier(&quot;LINE_INDEX&quot;), __attributes(ACF_ATTR_SCL_OUT_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d16u), __e0_size(1, 1), __ek_size(1, 1))&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__port(__index(3), __identifier(&quot;WINDOW_BUFFER&quot;), __attributes(ACF_ATTR_VEC_OUT_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d32u), __e0_size(1, 1), __ek_size(6+1, 32))&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__port(__index(4), __identifier(&quot;WINDOW_BUFFER_SQUARED&quot;), __attributes(ACF_ATTR_VEC_OUT_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d32u), __e0_size(1, 1), __ek_size(6+1, 32))&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__port(__index(5), __identifier(&quot;INPUT_CASCADE_SIZES&quot;), __attributes(ACF_ATTR_SCL_IN_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d16u), __e0_size(1, 1), __ek_size(2, 1))&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__port(__index(6), __identifier(&quot;INPUT_CASCADE_FEATURES&quot;), __attributes(ACF_ATTR_SCL_IN_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d08u), __e0_size(1, 1), __ek_size(19800, 1))&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__port(__index(7), __identifier(&quot;INPUT_CASCADE_STAGES&quot;), __attributes(ACF_ATTR_SCL_IN_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d08u), __e0_size(1, 1), __ek_size(70, 1))&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__port(__index(8), __identifier(&quot;INPUT_PIXEL_SHIFTS&quot;), __attributes(ACF_ATTR_SCL_IN_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d08u), __e0_size(1, 1), __ek_size(32, 1))&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__port(__index(9), __identifier(&quot;INPUT_PIXEL_OFFSETS&quot;), __attributes(ACF_ATTR_SCL_IN_STATIC_FIXED), __spatial_dep(0, 0, 0, 0), __e0_data_type(d08u), __e0_size(1, 1), __ek_size(32, 1))&#160;</td>
          <td class="paramname">, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">__port(__index(10), __identifier(&quot;OUTPUT&quot;), __attributes(ACF_ATTR_VEC_OUT), __spatial_dep(0, 0, 0, 0), __e0_data_type(d08u), __e0_size(1, 1), __ek_size(1, 1))&#160;</td>
          <td class="paramname">&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">
<p>Haar cascade object detection kernel metadata.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">apu_haar_cascade</td><td>Kernel name </td></tr>
    <tr><td class="paramname">11</td><td>Number of ports </td></tr>
    <tr><td class="paramname">Port HAAR_CASC_IN_INTEGR_IMG</td><td>Define for name of input integral image (unsigned 32bit) </td></tr>
    <tr><td class="paramname">Port HAAR_CASC_IN_INTEGR_IMG_SQR</td><td>Define for name of input integral image of squared values (unsigned 32bit) </td></tr>
    <tr><td class="paramname">Port HAAR_CASC_LINE_IDX</td><td>Define for name of line index buffer (unsigned 16bit) </td></tr>
    <tr><td class="paramname">Port HAAR_CASC_WND_BUF</td><td>Define for name of integral image window buffer (unsigned 32bit) </td></tr>
    <tr><td class="paramname">Port HAAR_CASC_WND_BUF_SQR</td><td>Define for name of integral image of squared values window buffer (unsigned 32bit) </td></tr>
    <tr><td class="paramname">Port HAAR_CASC_IN_CASC_SZ</td><td>Define for name of number of features and stages (2 16-bit values) (unsigned 16bit) </td></tr>
    <tr><td class="paramname">Port HAAR_CASC_IN_CASC_FEAT</td><td>Define for name of array of Haar-like features (unsigned 8bit) </td></tr>
    <tr><td class="paramname">Port HAAR_CASC_IN_CASC_STAGES</td><td>Define for name of array of cascade stages (unsigned 8bit) </td></tr>
    <tr><td class="paramname">Port HAAR_CASC_IN_PIX_SHFT</td><td>Define for name of LUT containing tile shifts needed for horizontal pixel offsets (unsigned 8bit) </td></tr>
    <tr><td class="paramname">Port HAAR_CASC_IN_PIX_OFFSETS</td><td>Define for name of LUT containing in-tile offsets needed for horizontal pixel offsets (unsigned 8bit) </td></tr>
    <tr><td class="paramname">Port HAAR_CASC_OUT</td><td>Define for name of output image (unsigned 8bit) </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a class="anchor" id="gae1636f077c1bc681664f933816d674f1"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void haar_cascade </td>
          <td>(</td>
          <td class="paramtype">vec08u *&#160;</td>
          <td class="paramname"><em>apOut</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vec32u *&#160;</td>
          <td class="paramname"><em>apInII</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vec32u *&#160;</td>
          <td class="paramname"><em>apInII2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>aOutStride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>aInStride</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>aTileWidth</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>aTileHeight</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int16u&#160;</td>
          <td class="paramname"><em>aLineIndex</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vec32u *&#160;</td>
          <td class="paramname"><em>apWindowBuffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">vec32u *&#160;</td>
          <td class="paramname"><em>apWindowBuffer2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAPEX__HaarCascadeFeature.html">APEX_HaarCascadeFeature</a> *&#160;</td>
          <td class="paramname"><em>apcFeatures</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>aStageCount</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structAPEX__HaarCascadeStage.html">APEX_HaarCascadeStage</a> *&#160;</td>
          <td class="paramname"><em>apcStages</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int08u *&#160;</td>
          <td class="paramname"><em>apcXshifts</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const int08u *&#160;</td>
          <td class="paramname"><em>apcXoffsets</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Haar object detection. </p>
<p>Detects objects using Haar-like feature cascades. The algorithm searches for 20x20-pixel objects using a Haar-like classifier provided by the user. For each input pixel, it outputs 255 if the pixel is a lower left corner of an object and 0 otherwise. The classifier consists of a number of stages, each stage contains multiple Haar-like features. The window has to pass every stage in order to be classified as containing an object.</p>
<p>See <a href="http://docs.opencv.org/trunk/doc/py_tutorials/py_objdetect/py_face_detection/py_face_detection.html">http://docs.opencv.org/trunk/doc/py_tutorials/py_objdetect/py_face_detection/py_face_detection.html</a></p>
<p>The format of the classifier stage is:<br />
 </p><div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="structAPEX__HaarCascadeStage.html">APEX_HaarCascadeStage</a></div>
<div class="line">{</div>
<div class="line">  int08u featureCount;</div>
<div class="line">  int16u thresholdFixed;</div>
<div class="line">};</div>
</div><!-- fragment --><p> Where featureCount is a number of Haar-like features included in the stage.<br />
ThresholdFixed is a fixed point threshold (10 fractional bits) which has to be exceeded by the sum of the feature test results in order for the stage to pass.</p>
<p>A Haar-like feature is a rectangle subdivided into weighted sub-rectangles. The pixels inside the feature region are weighted according to the weight of the sub-rectangle they belong to and then they are summed together. The resulting sum is then compared with the feature's threshold and the resulting boolean tells whether the feature passed or not. </p><div class="fragment"><div class="line"><span class="keyword">struct </span><a class="code" href="structAPEX__HaarCascadeStage.html">APEX_HaarCascadeStage</a></div>
<div class="line">{</div>
<div class="line">  int16u threshold;</div>
<div class="line">  int16u leftVal, rightVal;</div>
<div class="line">  int16u x5y5w5_1;</div>
<div class="line">  int08u h5type3;</div>
<div class="line">};</div>
</div><!-- fragment --><p> Where threshold is a fixed-point number (13 fractional bits) which has to be exceeded by the weighted sum of the feature rectangles in order for the feature to pass.<br />
leftVal, rightVal are fixed-point values (10 fractional bits), leftVal is added to the stage sum if the feature doesn't pass, righVal is added to the stage sum if the feature passes.<br />
x5y5w5_1 contains 3 values in its bits, starting from the most significant bit: upper left corner feature position x component in the first 5 bits, the y component in the next bits and the width of the feature in the next 5 bits. The least significant bit is not used.<br />
 h5type3 contains 2 values in its bits, starting from the most significant bit: feature height in the first bit, feature type in the remaining 3 bits.</p>
<p>There are 8 possible types of feature:<br />
type 0 ... horizontal edge, upper half positive<br />
type 1 ... horizontal edge, lower half positive<br />
type 2 ... vertical edge, left half positive<br />
type 3 ... vertical edge, right half positive<br />
type 4 ... line, horizontal<br />
type 5 ... line, vertical<br />
type 6 ... 4 rectangles, upper left and lower right rectangles positive ()<br />
type 7 ... 4 rectangles, lower left and upper right rectangles positive (/)<br />
 The kernel expects an integral image and an integral image of squared values. The implementation retains a rolling window for the integral images, therefore sufficiently sized buffers have to be supplied.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">apOut</td><td>- [Output] pointer to the destination buffer </td></tr>
    <tr><td class="paramname">apInII</td><td>- [Input] pointer to the source integral image buffer </td></tr>
    <tr><td class="paramname">apInII2</td><td>- [Input] pointer to the source integral image of squared values buffer </td></tr>
    <tr><td class="paramname">aOutStride</td><td>- [Input] line stride of the destination data </td></tr>
    <tr><td class="paramname">aInStride</td><td>- [Input] line stride of the source data </td></tr>
    <tr><td class="paramname">aTileWidth</td><td>- [Input] width of one data tile </td></tr>
    <tr><td class="paramname">aTileHeight</td><td>- [Input] height of one data tile </td></tr>
    <tr><td class="paramname">aLineIndex</td><td>- [Input] index of currently processed line </td></tr>
    <tr><td class="paramname">apWindowBuffer</td><td>- [Buffer] pointer to the input integral image window buffer </td></tr>
    <tr><td class="paramname">apWindowBuffer2</td><td>- [Buffer] pointer to the input integral image of squared values window buffer </td></tr>
    <tr><td class="paramname">apcFeatures</td><td>- [Input] pointer to the Haar-like feature array </td></tr>
    <tr><td class="paramname">aStageCount</td><td>- [Input] number of Haar-like feature cascade stages </td></tr>
    <tr><td class="paramname">apcStages</td><td>- [Input] pointer to the Haar-like feature cascade stages </td></tr>
    <tr><td class="paramname">apcXshifts</td><td>- [Input] pointer to LUT containing tile shifts needed for horizontal pixel offsets </td></tr>
    <tr><td class="paramname">apcXoffsets</td><td>- [Input] pointer to LUT containing in-tile offsets needed for horizontal pixel offsets </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Feb 1 2016 10:05:08 for ACF/APEX Kernel SDK by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
